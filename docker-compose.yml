services:
  backend:
    container_name: ats-backend  # 컨테이너 이름 (ATS: Automated Trading System)
    build:
      context: .
      dockerfile: Dockerfile
    ports:
      - "8002:8080"  # 호스트:8002 -> 컨테이너:8080
    restart: always
    environment:
      - SPRING_PROFILES_ACTIVE=prd
      - TZ=Asia/Seoul
    # [핵심] 서버의 파일을 컨테이너 내부로 연결 (Volume)
    volumes:
      # 호스트의 파일 경로 : 컨테이너 내부 경로
      - ./application-prd.yml:/app/application-prd.yml